##
## This makefile is automatically generated by coregen program
##
## Check your coregen, assygen and cubit location
##
include ../../common.mk


CUBIT = trelis -nographics

COREGEN = $(MESHKIT_DIR)/bin/coregen

ASSYGEN = $(MESHKIT_DIR)/bin/assygen

MESH_FILES = control.cub  fuel.cub  outer_cylinder.cub  

GEOM_FILES = control.sat  fuel.sat  

JOU_FILES = control.jou  fuel.jou  cylinderical_covering.jou  

PYTHON_FILES = control.py  fuel.py  

INJOU_FILES = control.template.jou  fuel.template.jou   

ASSYGEN_FILES = control.inp  fuel.inp    

s.h5m : ${MESH_FILES} simple_hexflatcore.inp
	${COREGEN} simple_hexflatcore
control.cub : control.sat  control.jou  control.template.jou
	${CUBIT} -batch control.jou

control.sat : control.py
	${CUBIT} -batch control.py

control.py control.jou control.template.jou : control.inp
	${ASSYGEN} control

fuel.cub : fuel.sat  fuel.jou  fuel.template.jou
	${CUBIT} -batch fuel.jou

fuel.sat : fuel.py
	${CUBIT} -batch fuel.py

fuel.py fuel.jou fuel.template.jou : fuel.inp
	${ASSYGEN} fuel

outer_cylinder.cub : cylinderical_covering.jou
	${CUBIT} -batch cylinderical_covering.jou


make clean :
	rm *.sat *.cub *.py 
